WITH RECURSIVE cte AS
(
    SELECT MIN(CAST(dttm AS DATE)) AS dt FROM visits
        UNION ALL
	SELECT dt + INTERVAL 1 DAY
        FROM cte
    WHERE dt + INTERVAL 1 DAY <= (SELECT MAX(CAST(dttm AS DATE)) FROM visits)
)
SELECT cte.dt, COUNT(DISTINCT visits.client)
    FROM visits RIGHT JOIN cte ON CAST(visits.dttm AS DATE) >= cte.dt 
    AND CAST(visits.dttm AS DATE) < cte.dt + INTERVAL 1 DAY
GROUP BY cte.dt
ORDER BY cte.dt;






EXPLAIN rusult:

+----+-------------+------------+------------+------+---------------+------+---------+------+------+----------+----------------------------------------------------+
| id | select_type | table      | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra                                              |
+----+-------------+------------+------------+------+---------------+------+---------+------+------+----------+----------------------------------------------------+
|  1 | PRIMARY     | <derived2> | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    3 |   100.00 | Using temporary; Using filesort                    |
|  1 | PRIMARY     | visits     | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 6000 |   100.00 | Using where; Using join buffer (Block Nested Loop) |
|  2 | DERIVED     | visits     | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 6000 |   100.00 | NULL                                               |
|  3 | UNION       | cte        | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    2 |   100.00 | Recursive; Using where                             |
|  5 | SUBQUERY    | visits     | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 6000 |   100.00 | NULL                                               |
+----+-------------+------------+------------+------+---------------+------+---------+------+------+----------+----------------------------------------------------+
5 rows in set, 1 warning (0,03 sec)


DAU result:




+------------+-------------------------------+
| dt         | COUNT(DISTINCT visits.client) |
+------------+-------------------------------+
| 2018-06-22 |                            33 |
| 2018-06-23 |                            37 |
| 2018-06-24 |                            34 |
| 2018-06-25 |                            35 |
| 2018-06-26 |                            22 |
| 2018-06-27 |                            31 |
| 2018-06-28 |                            27 |
| 2018-06-29 |                            34 |
| 2018-06-30 |                            60 |
| 2018-07-01 |                            24 |
| 2018-07-02 |                            26 |
| 2018-07-03 |                            34 |
| 2018-07-04 |                            37 |
| 2018-07-05 |                            23 |
| 2018-07-06 |                            25 |
| 2018-07-07 |                            22 |
| 2018-07-08 |                            28 |
| 2018-07-09 |                            29 |
| 2018-07-10 |                            39 |
| 2018-07-11 |                             0 |
| 2018-07-12 |                             0 |
| 2018-07-13 |                             0 |
| 2018-07-14 |                             0 |
| 2018-07-15 |                             0 |
| 2018-07-16 |                             0 |
| 2018-07-17 |                             0 |
| 2018-07-18 |                             0 |
| 2018-07-19 |                             0 |
| 2018-07-20 |                             0 |
| 2018-07-21 |                             0 |
| 2018-07-22 |                            36 |
| 2018-07-23 |                            26 |
| 2018-07-24 |                            26 |
| 2018-07-25 |                            37 |
| 2018-07-26 |                            30 |
| 2018-07-27 |                            35 |
| 2018-07-28 |                            25 |
| 2018-07-29 |                            35 |
| 2018-07-30 |                            33 |
| 2018-07-31 |                            26 |
| 2018-08-01 |                            26 |
| 2018-08-02 |                            26 |
| 2018-08-03 |                            27 |
| 2018-08-04 |                            23 |
| 2018-08-05 |                            34 |
| 2018-08-06 |                            31 |
| 2018-08-07 |                            26 |
| 2018-08-08 |                            31 |
| 2018-08-09 |                            29 |
| 2018-08-10 |                            27 |
| 2018-08-11 |                             0 |
| 2018-08-12 |                             0 |
| 2018-08-13 |                             0 |
| 2018-08-14 |                             0 |
| 2018-08-15 |                             0 |
| 2018-08-16 |                             0 |
| 2018-08-17 |                             0 |
| 2018-08-18 |                             0 |
| 2018-08-19 |                             0 |
| 2018-08-20 |                             0 |
| 2018-08-21 |                             0 |
| 2018-08-22 |                            28 |
| 2018-08-23 |                            37 |
| 2018-08-24 |                            29 |
| 2018-08-25 |                            23 |
| 2018-08-26 |                            31 |
| 2018-08-27 |                            33 |
| 2018-08-28 |                            24 |
| 2018-08-29 |                            27 |
| 2018-08-30 |                            30 |
| 2018-08-31 |                            31 |
| 2018-09-01 |                            33 |
| 2018-09-02 |                            31 |
| 2018-09-03 |                            34 |
| 2018-09-04 |                            31 |
| 2018-09-05 |                            31 |
| 2018-09-06 |                            28 |
| 2018-09-07 |                            32 |
| 2018-09-08 |                            29 |
| 2018-09-09 |                            29 |
| 2018-09-10 |                            23 |
| 2018-09-11 |                             0 |
| 2018-09-12 |                             0 |
| 2018-09-13 |                             0 |
| 2018-09-14 |                             0 |
| 2018-09-15 |                             0 |
| 2018-09-16 |                             0 |
| 2018-09-17 |                             0 |
| 2018-09-18 |                             0 |
| 2018-09-19 |                             0 |
| 2018-09-20 |                             0 |
| 2018-09-21 |                             0 |
| 2018-09-22 |                            26 |
| 2018-09-23 |                            40 |
| 2018-09-24 |                            30 |
| 2018-09-25 |                            17 |
| 2018-09-26 |                            31 |
| 2018-09-27 |                            20 |
| 2018-09-28 |                            33 |
| 2018-09-29 |                            27 |
| 2018-09-30 |                            69 |
| 2018-10-01 |                            30 |
| 2018-10-02 |                            29 |
| 2018-10-03 |                            34 |
| 2018-10-04 |                            28 |
| 2018-10-05 |                            28 |
| 2018-10-06 |                            26 |
| 2018-10-07 |                            30 |
| 2018-10-08 |                            21 |
| 2018-10-09 |                            31 |
| 2018-10-10 |                            24 |
| 2018-10-11 |                             0 |
| 2018-10-12 |                             0 |
| 2018-10-13 |                             0 |
| 2018-10-14 |                             0 |
| 2018-10-15 |                             0 |
| 2018-10-16 |                             0 |
| 2018-10-17 |                             0 |
| 2018-10-18 |                             0 |
| 2018-10-19 |                             0 |
| 2018-10-20 |                             0 |
| 2018-10-21 |                             0 |
| 2018-10-22 |                            37 |
| 2018-10-23 |                            35 |
| 2018-10-24 |                            34 |
| 2018-10-25 |                            24 |
| 2018-10-26 |                            25 |
| 2018-10-27 |                            28 |
| 2018-10-28 |                            39 |
| 2018-10-29 |                            24 |
| 2018-10-30 |                            29 |
| 2018-10-31 |                            32 |
| 2018-11-01 |                            30 |
| 2018-11-02 |                            31 |
| 2018-11-03 |                            30 |
| 2018-11-04 |                            19 |
| 2018-11-05 |                            18 |
| 2018-11-06 |                            32 |
| 2018-11-07 |                            30 |
| 2018-11-08 |                            27 |
| 2018-11-09 |                            32 |
| 2018-11-10 |                            24 |
| 2018-11-11 |                             0 |
| 2018-11-12 |                             0 |
| 2018-11-13 |                             0 |
| 2018-11-14 |                             0 |
| 2018-11-15 |                             0 |
| 2018-11-16 |                             0 |
| 2018-11-17 |                             0 |
| 2018-11-18 |                             0 |
| 2018-11-19 |                             0 |
| 2018-11-20 |                             0 |
| 2018-11-21 |                             0 |
| 2018-11-22 |                            35 |
| 2018-11-23 |                            18 |
| 2018-11-24 |                            26 |
| 2018-11-25 |                            31 |
| 2018-11-26 |                            24 |
| 2018-11-27 |                            27 |
| 2018-11-28 |                            31 |
| 2018-11-29 |                            23 |
| 2018-11-30 |                            50 |
| 2018-12-01 |                            27 |
| 2018-12-02 |                            27 |
| 2018-12-03 |                            24 |
| 2018-12-04 |                            35 |
| 2018-12-05 |                            33 |
| 2018-12-06 |                            27 |
| 2018-12-07 |                            30 |
| 2018-12-08 |                            24 |
| 2018-12-09 |                            35 |
| 2018-12-10 |                            34 |
| 2018-12-11 |                             0 |
| 2018-12-12 |                             0 |
| 2018-12-13 |                             0 |
| 2018-12-14 |                             0 |
| 2018-12-15 |                             0 |
| 2018-12-16 |                             0 |
| 2018-12-17 |                             0 |
| 2018-12-18 |                             0 |
| 2018-12-19 |                             0 |
| 2018-12-20 |                             0 |
| 2018-12-21 |                             0 |
| 2018-12-22 |                            33 |
| 2018-12-23 |                            29 |
| 2018-12-24 |                            32 |
| 2018-12-25 |                            29 |
| 2018-12-26 |                            29 |
| 2018-12-27 |                            33 |
| 2018-12-28 |                            27 |
| 2018-12-29 |                            30 |
| 2018-12-30 |                            37 |
| 2018-12-31 |                            31 |
| 2019-01-01 |                            26 |
| 2019-01-02 |                            27 |
| 2019-01-03 |                            25 |
| 2019-01-04 |                            30 |
| 2019-01-05 |                            31 |
| 2019-01-06 |                            25 |
| 2019-01-07 |                            33 |
| 2019-01-08 |                            29 |
| 2019-01-09 |                            33 |
| 2019-01-10 |                            23 |
| 2019-01-11 |                             0 |
| 2019-01-12 |                             0 |
| 2019-01-13 |                             0 |
| 2019-01-14 |                             0 |
| 2019-01-15 |                             0 |
| 2019-01-16 |                             0 |
| 2019-01-17 |                             0 |
| 2019-01-18 |                             0 |
| 2019-01-19 |                             0 |
| 2019-01-20 |                             0 |
| 2019-01-21 |                             0 |
| 2019-01-22 |                            29 |
| 2019-01-23 |                            28 |
| 2019-01-24 |                            29 |
| 2019-01-25 |                            26 |
| 2019-01-26 |                            32 |
| 2019-01-27 |                            34 |
| 2019-01-28 |                            32 |
| 2019-01-29 |                            33 |
| 2019-01-30 |                            19 |
| 2019-01-31 |                            34 |
| 2019-02-01 |                            23 |
| 2019-02-02 |                            30 |
| 2019-02-03 |                            33 |
| 2019-02-04 |                            29 |
| 2019-02-05 |                            22 |
| 2019-02-06 |                            23 |
| 2019-02-07 |                            32 |
| 2019-02-08 |                            23 |
| 2019-02-09 |                            20 |
| 2019-02-10 |                            31 |
| 2019-02-11 |                             0 |
| 2019-02-12 |                             0 |
| 2019-02-13 |                             0 |
| 2019-02-14 |                             0 |
| 2019-02-15 |                             0 |
| 2019-02-16 |                             0 |
| 2019-02-17 |                             0 |
| 2019-02-18 |                             0 |
| 2019-02-19 |                             0 |
| 2019-02-20 |                             0 |
| 2019-02-21 |                             0 |
| 2019-02-22 |                            29 |
| 2019-02-23 |                            21 |
| 2019-02-24 |                            26 |
| 2019-02-25 |                            22 |
| 2019-02-26 |                            34 |
| 2019-02-27 |                            33 |
| 2019-02-28 |                           128 |
| 2019-03-01 |                            29 |
| 2019-03-02 |                            35 |
| 2019-03-03 |                            40 |
| 2019-03-04 |                            21 |
| 2019-03-05 |                            29 |
| 2019-03-06 |                            30 |
| 2019-03-07 |                            30 |
| 2019-03-08 |                            21 |
| 2019-03-09 |                            32 |
| 2019-03-10 |                            34 |
| 2019-03-11 |                             0 |
| 2019-03-12 |                             0 |
| 2019-03-13 |                             0 |
| 2019-03-14 |                             0 |
| 2019-03-15 |                             0 |
| 2019-03-16 |                             0 |
| 2019-03-17 |                             0 |
| 2019-03-18 |                             0 |
| 2019-03-19 |                             0 |
| 2019-03-20 |                             0 |
| 2019-03-21 |                             0 |
| 2019-03-22 |                            35 |
| 2019-03-23 |                            29 |
| 2019-03-24 |                            27 |
| 2019-03-25 |                            40 |
| 2019-03-26 |                            29 |
| 2019-03-27 |                            19 |
| 2019-03-28 |                            18 |
| 2019-03-29 |                            28 |
| 2019-03-30 |                            24 |
| 2019-03-31 |                            34 |
| 2019-04-01 |                            25 |
| 2019-04-02 |                            24 |
| 2019-04-03 |                            30 |
| 2019-04-04 |                            32 |
| 2019-04-05 |                            31 |
| 2019-04-06 |                            20 |
| 2019-04-07 |                            29 |
| 2019-04-08 |                            24 |
| 2019-04-09 |                            27 |
| 2019-04-10 |                            28 |
+------------+-------------------------------+